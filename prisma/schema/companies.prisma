model Company {
  id     Int           @id @default(autoincrement())
  name   String
  status CompanyStatus @default(PENDING)

  logoUrl String?
  address String?
  phone   String?

  telegram  String?
  whatsapp  String?
  instagram String?
  tiktok    String?

  workTime String?

  cityId Int?
  city   City? @relation(fields: [cityId], references: [id], onDelete: SetNull)

  lat Decimal?
  lng Decimal?

  members CompanyMember[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([cityId])
  @@map("companies")
}

model CompanyMember {
  id        Int @id @default(autoincrement())
  userId    Int
  companyId Int

  role   CompanyRole
  status MemberStatus @default(ACTIVE)

  user    User    @relation(fields: [userId], references: [id], onDelete: Cascade)
  company Company @relation(fields: [companyId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([userId, companyId])
  @@index([companyId])
  @@map("company_members")
}